{"version":3,"sources":["main.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.js","sourcesContent":["'use strict';\n\nconst btn = document.querySelector('.js-button');\nconst reset = document.querySelector('.js-btnReset');\nconst searchInput = document.querySelector('.js-search');\nconst list =document.querySelector('.js-list');\nconst listFav = document.querySelector('.js-listFav');\n//const searchInputValue = searchInput.value;\nlet results = [];\nlet favorites= [];\nlet newFav = [];\n\n\n/*function pintNewFavorites(){\n    let newHtml = [];\n    if(newFav === favorites){\n        newHtml +=`<li class= 'list js-eachList ${classFav}' id='${eachResult.mal_id}'>`;\n        newHtml += `<h2 class= 'title js-title ${classFav}'>${eachResult.title} </h2>`;\n        newHtml += `<img src='${eachResult.images.jpg.image_url}' alt='img' class='js-image image'/>`;\n      ;\n  } else { newFav ='';}\n  \n}; */\n\n\nfunction handleFav(event){\n  console.log(event.currentTarget.id);  \nconst idSelected = parseInt(event.currentTarget.id);\nconst animeFound = results.data.find((result) => result.mal_id === idSelected);\nconst favFound = favorites.findIndex ((fav) => fav.mal_id === idSelected);\nlet newHtml = [];\nlocalStorage.setItem('data', JSON.stringify(favorites));\nconsole.log(animeFound);\n /*for (const eachFav of favorites) {\n    if(favFound === -1){\n    favorites.push(animeFound);*/\n    if(favFound === -1){\n    favorites.push(animeFound);\n    newHtml +=`<li class= 'favIem js-favList'>`;\n    newHtml += `<h2 class= 'favtitle js-favTitle >${animeFound} </h2>`;\n    newHtml += `<img src='' alt='img' class='js-favImage image'/>`;  \n    \n   } else {\n    favorites.splice(favFound, 1);\n\n}\nrenderList(favorites);\nlistenerAnime();\nlistFav.innerHTML = newHtml; \nconsole.log(favorites);\n\n\n}\n\n\nfunction listenerAnime(){\n    const liAnime = document.querySelectorAll('.js-eachList');\n    for (const li of liAnime) {\n        li.addEventListener('click', handleFav);\n        \n    }\n}\n    \nbtn.addEventListener('click', (event)=> {\n    event.preventDefault();\n    let searchInputValue = searchInput.value;\n\nfetch(`https://api.jikan.moe/v4/anime?q=${searchInputValue}`)\n.then((response) => response.json())\n.then ((data) => {\n    results = data;\n    renderList(results);\n    console.log(data);\n    \n        });\n    });\n\n\nconst renderList = (arrayresults) =>{\n    let html ='';\n    let classFav ='';\n    for (const eachResult of results.data) {\n        const wrongImage = 'https://cdn.myanimelist.net/img/sp/icon/apple-touch-icon-256.png';\n        const favFoundIndex = favorites.findIndex((fav) => eachResult.mal_id === fav.mal_id);\n        if(favFoundIndex !== -1){\n            classFav = 'fav-color';\n            \n\n        } else {\n            classFav = '';\n        }\n\n        html +=`<li class= 'list js-eachList ${classFav}' id='${eachResult.mal_id}'>`;\n        if(eachResult.images.jpg.image_url === wrongImage){\n            html += `<img src=${'https://via.placeholder.com/210x295/ffffff/666666/?text=TV'} alt=\"imagen\"/>`;\n        } else {\n            html += `<img src='${eachResult.images.jpg.image_url}' alt='img' class='js-image image'/>`;\n\n        }\n        html += `<h2 class= 'title js-title ${classFav}'>${eachResult.title} </h2>`;\n        \n    }\nlist.innerHTML = html;\nlistenerAnime();\n};\n\n/*\nAl crear esta funcin de salen errores con result.data de la primera funcion\n\nfunction onLoad (){\n    const dataLocalStorage = JSON.parse(localStorage.getItem('data'));\n    console.log(dataLocalStorage);\n    if (dataLocalStorage)  {\n        favorites = dataLocalStorage;\n        renderList(favorites); \n        console.log('Hay algo');\n\n    }else {\n\n    }\n\n}\nonLoad();*/\n\nfunction clearResults(){\n    results = '';\n}\nfunction handleReset(event){\n    event,preventDefault();\n    if(results !== '') {\n        clearResults();\n    }\n       \n}\nreset.addEventListener('click' , handleReset);"]}